For much of Wednesday, the U.S. stock market appeared to be headed for its third decline in three days.

The push was enough to nudge the Standard & Poor's 500 index into the green by half a point. The tech-heavy Nasdaq composite also finished higher.

The three major U.S. stock indexes are still down for the week. Stocks had a strong finish last week, setting three record highs.

Investors have been worried this week about a sharp drop in China's exports in February reported over the weekend, which raised concerns that the world's second-largest economy is slowing. Since China is a big consumer of raw materials and energy, commodities such as copper and iron ore have dropped sharply. Copper has fallen to its lowest level since 2010, but recovered somewhat Wednesday.

"When markets reach these kind of new highs very often they have to digest those gains, which is what they're doing," said Quincy Krosby, a market strategist with Prudential Financial. "They need to adjust the gains and then wait for the next catalyst to move higher."

That could come Thursday, when new data on retail sales and weekly unemployment benefit applications are released. On Friday, a survey of consumer confidence should give traders a better sense of how Americans feel about the economy.

The state of China's economy is sure to continue to be a focus, however.

"We've been seeing these periodic, occasional weak data points come out of China," said Randy Frederick, managing director of trading and derivatives at the Schwab Center for Financial Research. "And each time that happens when our markets are at ... record highs, they're going to be very sensitive to any sort of negative news and there'll be days of profit-taking."

Tesoro Corp. rose the most of any stock in the S&P 500 index, climbing $2.13, or 4.1 percent, to $54.50. Marathon Petroleum Corp., added $3.21, or 3.5 percent, to $94.50, while Valero Energy Corp., gained $1.62, or 3 percent, to $55.29.

Investors also took a shine to mining companies as metals prices increased. Cliffs Natural Resources Inc. rose 43 cents, or 2.4 percent, to $18.41 and Newmont Mining Corp. rose 66 cents, or 2.7 percent, to $25.01.

Tech giants Google, Microsoft and Facebook also contributed to the day's gains. Together they make up about 12 percent of the Nasdaq composite. Google rose $7.31, or 0.6 percent, to $1,207.30; Microsoft added 25 cents, or 0.7 percent, to $38.27 and Facebook climbed 78 cents, or 1.1 percent, to $70.88.