The Federal Trade Commission opened an investigation into Herbalife Ltd., the maker of nutritional supplements that has spent more than a year battling hedge fund manager William Ackman over allegations it is a pyramid scheme.

Shares in Herbalife plunged as much as 17% Wednesday after the company said it had received a so-called civil investigative demand from the FTC. The agency confirmed the investigation, which raises the stakes in a standoff with billions of dollars in the balance.