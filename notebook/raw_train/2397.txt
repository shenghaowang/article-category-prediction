Militias had seized control of crucial eastern oil ports months ago, and over the weekend moved for the first time to deal directly with would-be buyers. This week, a North Korean-flagged tanker took on a cargo of crude oil and sailed from the port of Es Sedr, with the militias defying government threats of attack.